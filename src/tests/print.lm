#!/usr/bin/env lumesh  
  
# Expressionæ˜¾ç¤ºæ ·å¼å®Œæ•´æµ‹è¯•è„šæœ¬  
# æµ‹è¯•æ‰€æœ‰è¡¨è¾¾å¼ç±»å‹çš„Debug 
  
println("ğŸ¨ Lumesh Expression æ˜¾ç¤ºæ ·å¼æµ‹è¯•")  
println("=" * 50)  
  
# åŸºç¡€ç±»å‹æµ‹è¯•  
println("\nğŸ“‹ åŸºç¡€ç±»å‹æµ‹è¯•")  
let a := symbol_name; debug a  
let var = 'a var is here'
let a := $var; debug a  
let a := 42; debug a  
let a := 3.14159; debug a  
let a := "Hello, World!"; debug a  
let a := 'Raw string\nwith escapes'; debug a  
let a := `Template string with {expression}`; debug a  
let a := true; debug a  
let a := none; debug a  
let a := _; debug a  
  
# é›†åˆç±»å‹æµ‹è¯•  
println("\nğŸ“¦ é›†åˆç±»å‹æµ‹è¯•")  
let a := [1, 2, 3, "four", true]; debug a  
let a := [1, [2, 3], [4, [5, 6]]]; debug a  
let a := {name: "Alice", age: 25, active: true}; debug a  
let a := {  
    user: {name: "Bob", profile: {age: 30, city: "NYC"}},  
    settings: {theme: "dark", notifications: true}  
}; debug a  
  
# æ§åˆ¶æµæµ‹è¯•  
println("\nğŸ”„ æ§åˆ¶æµæµ‹è¯•")  
let a := if true { "yes" } else { "no" }; debug a  
let a := while false { "loop" }; debug a  
let a := for x in [1, 2, 3] { x * 2 }; debug a  
let a := match 5 { 1 => "one"; 2 => "two"; 5 => "five"; _ => "other" }; debug a  
  
# å‡½æ•°å®šä¹‰æµ‹è¯•  
println("\nâš¡ å‡½æ•°å®šä¹‰æµ‹è¯•")  
let a := x -> x * 2; debug a  
let a := (x, y) -> x + y; debug a  
let a := x -> y -> x + y; debug a  
fn a(x, y = 10) { x + y }; debug a  
  
# æ“ä½œç¬¦æµ‹è¯•  
println("\nâ• æ“ä½œç¬¦æµ‹è¯•")  
let a := 1 + 2 * 3; debug a  
let a := 5 > 3 && 2 < 4; debug a  
let a := -42; debug a  
let a := 1..10; debug a  
let a := [1, 2, 3] | list.map(x -> x * 2); debug a  
  
# å¤æ‚åµŒå¥—æµ‹è¯•  
println("\nğŸŒŠ å¤æ‚åµŒå¥—æµ‹è¯•")  
let a := {  
    level1: {  
        level2: {  
            level3: [1, 2, {nested: "deep"}]  
        }  
    }  
}; debug a  
  
# é«˜çº§ç‰¹æ€§æµ‹è¯•  
println("\nğŸš€ é«˜çº§ç‰¹æ€§æµ‹è¯•")  
let a := "hello world".split(" ").join("-").to_upper(); debug a  
let a := {users: [{name: "Alice"}, {name: "Bob"}]}.users[0].name; debug a  
let a := risky_operation() ?: "default"; debug a  
let a := r'(\w+)\s+(\d+)'; debug a  
let a := 1MB; debug a  
  
# ä»£ç å—æµ‹è¯•  
println("\nğŸ“ ä»£ç å—æµ‹è¯•")  
let a := {  
    let x = 10  
    let y = 20  
    x + y  
}; debug a  
  
println("\nâœ… æµ‹è¯•å®Œæˆï¼")
